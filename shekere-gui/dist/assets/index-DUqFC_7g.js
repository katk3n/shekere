var ft=Object.defineProperty;var ut=(t,e,l)=>e in t?ft(t,e,{enumerable:!0,configurable:!0,writable:!0,value:l}):t[e]=l;var je=(t,e,l)=>ut(t,typeof e!="symbol"?e+"":e,l);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function l(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=l(i);fetch(i.href,a)}})();function O(){}function nt(t){return t()}function Be(){return Object.create(null)}function ee(t){t.forEach(nt)}function it(t){return typeof t=="function"}function ue(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function dt(t){return Object.keys(t).length===0}function pt(t,...e){if(t==null){for(const n of e)n(void 0);return O}const l=t.subscribe(...e);return l.unsubscribe?()=>l.unsubscribe():l}function He(t,e,l){t.$$.on_destroy.push(pt(e,l))}function o(t,e){t.appendChild(e)}function I(t,e,l){t.insertBefore(e,l||null)}function q(t){t.parentNode&&t.parentNode.removeChild(t)}function Ce(t,e){for(let l=0;l<t.length;l+=1)t[l]&&t[l].d(e)}function d(t){return document.createElement(t)}function R(t){return document.createTextNode(t)}function E(){return R(" ")}function st(){return R("")}function Y(t,e,l,n){return t.addEventListener(e,l,n),()=>t.removeEventListener(e,l,n)}function u(t,e,l){l==null?t.removeAttribute(e):t.getAttribute(e)!==l&&t.setAttribute(e,l)}function vt(t){return Array.from(t.childNodes)}function T(t,e){e=""+e,t.data!==e&&(t.data=e)}function Ge(t,e,l,n){l==null?t.style.removeProperty(e):t.style.setProperty(e,l,"")}function B(t,e,l){t.classList.toggle(e,!!l)}function ht(t,e,{bubbles:l=!1,cancelable:n=!1}={}){return new CustomEvent(t,{detail:e,bubbles:l,cancelable:n})}let ge;function ve(t){ge=t}function Ee(){if(!ge)throw new Error("Function called outside component initialization");return ge}function rt(t){Ee().$$.on_mount.push(t)}function gt(t){Ee().$$.on_destroy.push(t)}function _t(){const t=Ee();return(e,l,{cancelable:n=!1}={})=>{const i=t.$$.callbacks[e];if(i){const a=ht(e,l,{cancelable:n});return i.slice().forEach(s=>{s.call(t,a)}),!a.defaultPrevented}return!0}}const re=[],ke=[];let oe=[];const We=[],wt=Promise.resolve();let Fe=!1;function mt(){Fe||(Fe=!0,wt.then(ot))}function Se(t){oe.push(t)}const Pe=new Set;let ne=0;function ot(){if(ne!==0)return;const t=ge;do{try{for(;ne<re.length;){const e=re[ne];ne++,ve(e),bt(e.$$)}}catch(e){throw re.length=0,ne=0,e}for(ve(null),re.length=0,ne=0;ke.length;)ke.pop()();for(let e=0;e<oe.length;e+=1){const l=oe[e];Pe.has(l)||(Pe.add(l),l())}oe.length=0}while(re.length);for(;We.length;)We.pop()();Fe=!1,Pe.clear(),ve(t)}function bt(t){if(t.fragment!==null){t.update(),ee(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Se)}}function yt(t){const e=[],l=[];oe.forEach(n=>t.indexOf(n)===-1?e.push(n):l.push(n)),l.forEach(n=>n()),oe=e}const ye=new Set;let te;function _e(){te={r:0,c:[],p:te}}function we(){te.r||ee(te.c),te=te.p}function M(t,e){t&&t.i&&(ye.delete(t),t.i(e))}function G(t,e,l,n){if(t&&t.o){if(ye.has(t))return;ye.add(t),te.c.push(()=>{ye.delete(t),n&&(l&&t.d(1),n())}),t.o(e)}else n&&n()}function fe(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function he(t){t&&t.c()}function ae(t,e,l){const{fragment:n,after_update:i}=t.$$;n&&n.m(e,l),Se(()=>{const a=t.$$.on_mount.map(nt).filter(it);t.$$.on_destroy?t.$$.on_destroy.push(...a):ee(a),t.$$.on_mount=[]}),i.forEach(Se)}function ce(t,e){const l=t.$$;l.fragment!==null&&(yt(l.after_update),ee(l.on_destroy),l.fragment&&l.fragment.d(e),l.on_destroy=l.fragment=null,l.ctx=[])}function kt(t,e){t.$$.dirty[0]===-1&&(re.push(t),mt(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function me(t,e,l,n,i,a,s=null,c=[-1]){const r=ge;ve(t);const f=t.$$={fragment:null,ctx:[],props:a,update:O,not_equal:i,bound:Be(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(r?r.$$.context:[])),callbacks:Be(),dirty:c,skip_bound:!1,root:e.target||r.$$.root};s&&s(f.root);let g=!1;if(f.ctx=l?l(t,e.props||{},(_,y,...p)=>{const k=p.length?p[0]:y;return f.ctx&&i(f.ctx[_],f.ctx[_]=k)&&(!f.skip_bound&&f.bound[_]&&f.bound[_](k),g&&kt(t,_)),y}):[],f.update(),g=!0,ee(f.before_update),f.fragment=n?n(f.ctx):!1,e.target){if(e.hydrate){const _=vt(e.target);f.fragment&&f.fragment.l(_),_.forEach(q)}else f.fragment&&f.fragment.c();e.intro&&M(t.$$.fragment),ae(t,e.target,e.anchor),ot()}ve(r)}class be{constructor(){je(this,"$$");je(this,"$$set")}$destroy(){ce(this,1),this.$destroy=O}$on(e,l){if(!it(l))return O;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(l),()=>{const i=n.indexOf(l);i!==-1&&n.splice(i,1)}}$set(e){this.$$set&&!dt(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const jt="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(jt);async function le(t,e={},l){return window.__TAURI_INTERNALS__.invoke(t,e,l)}async function Pt(t={}){return typeof t=="object"&&Object.freeze(t),await le("plugin:dialog|open",{options:t})}const ie=[];function at(t,e=O){let l;const n=new Set;function i(c){if(ue(t,c)&&(t=c,l)){const r=!ie.length;for(const f of n)f[1](),ie.push(f,t);if(r){for(let f=0;f<ie.length;f+=2)ie[f][0](ie[f+1]);ie.length=0}}}function a(c){i(c(t))}function s(c,r=O){const f=[c,r];return n.add(f),n.size===1&&(l=e(i,a)||O),c(t),()=>{n.delete(f),n.size===0&&l&&(l(),l=null)}}return{set:i,update:a,subscribe:s}}const x=at({root:null,selectedFile:null,selectedPath:null,loading:!1,error:null}),se={setFileTree:t=>{x.update(e=>({...e,root:t,loading:!1,error:null}))},selectFile:(t,e)=>{x.update(l=>({...l,selectedFile:e,selectedPath:t}))},setLoading:t=>{x.update(e=>({...e,loading:t}))},setError:t=>{x.update(e=>({...e,error:t,loading:!1}))},clearSelection:()=>{x.update(t=>({...t,selectedFile:null,selectedPath:null}))}},Z=at({handle:null,isRunning:!1,config:null,error:null,fps:0,renderTime:0}),Q={setHandle:t=>{Z.update(e=>({...e,handle:t,isRunning:!!t}))},setConfig:t=>{Z.update(e=>({...e,config:t}))},setRunning:t=>{Z.update(e=>({...e,isRunning:t}))},setError:t=>{Z.update(e=>({...e,error:t}))},updateStats:(t,e)=>{Z.update(l=>({...l,fps:t,renderTime:e}))},stop:()=>{Z.update(t=>({...t,handle:null,isRunning:!1}))}};function $e(t,e,l){const n=t.slice();return n[13]=e[l],n}function Ft(t){let e,l=t[4](t[0].file_type,t[0].is_directory)+"",n;return{c(){e=d("span"),n=R(l),u(e,"class","file-icon svelte-1ohwvxa")},m(i,a){I(i,e,a),o(e,n)},p(i,a){a&17&&l!==(l=i[4](i[0].file_type,i[0].is_directory)+"")&&T(n,l)},d(i){i&&q(e)}}}function St(t){let e,l=t[7]?"üìÇ":"üìÅ",n;return{c(){e=d("span"),n=R(l),u(e,"class","toggle-icon svelte-1ohwvxa")},m(i,a){I(i,e,a),o(e,n)},p(i,a){a&128&&l!==(l=i[7]?"üìÇ":"üìÅ")&&T(n,l)},d(i){i&&q(e)}}}function Ct(t){let e;return{c(){e=d("span"),e.textContent="Shader",u(e,"class","file-type-badge svelte-1ohwvxa")},m(l,n){I(l,e,n)},d(l){l&&q(e)}}}function Et(t){let e;return{c(){e=d("span"),e.textContent="TOML",u(e,"class","file-type-badge svelte-1ohwvxa")},m(l,n){I(l,e,n)},d(l){l&&q(e)}}}function Ke(t){let e,l,n=fe(t[0].children),i=[];for(let s=0;s<n.length;s+=1)i[s]=Ve($e(t,n,s));const a=s=>G(i[s],1,1,()=>{i[s]=null});return{c(){for(let s=0;s<i.length;s+=1)i[s].c();e=st()},m(s,c){for(let r=0;r<i.length;r+=1)i[r]&&i[r].m(s,c);I(s,e,c),l=!0},p(s,c){if(c&1567){n=fe(s[0].children);let r;for(r=0;r<n.length;r+=1){const f=$e(s,n,r);i[r]?(i[r].p(f,c),M(i[r],1)):(i[r]=Ve(f),i[r].c(),M(i[r],1),i[r].m(e.parentNode,e))}for(_e(),r=n.length;r<i.length;r+=1)a(r);we()}},i(s){if(!l){for(let c=0;c<n.length;c+=1)M(i[c]);l=!0}},o(s){i=i.filter(Boolean);for(let c=0;c<i.length;c+=1)G(i[c]);l=!1},d(s){s&&q(e),Ce(i,s)}}}function Ve(t){let e,l;return e=new ct({props:{node:t[13],level:t[1]+1,expandedDirs:t[2],selectedPath:t[3],getFileIcon:t[4]}}),e.$on("toggle",t[9]),e.$on("select",t[10]),{c(){he(e.$$.fragment)},m(n,i){ae(e,n,i),l=!0},p(n,i){const a={};i&1&&(a.node=n[13]),i&2&&(a.level=n[1]+1),i&4&&(a.expandedDirs=n[2]),i&8&&(a.selectedPath=n[3]),i&16&&(a.getFileIcon=n[4]),e.$set(a)},i(n){l||(M(e.$$.fragment,n),l=!0)},o(n){G(e.$$.fragment,n),l=!1},d(n){ce(e,n)}}}function Rt(t){let e,l,n,i,a=t[0].name+"",s,c,r,f,g,_;function y(b,j){return b[0].is_directory?St:Ft}let p=y(t),k=p(t);function P(b,j){if(b[0].file_type==="config")return Et;if(b[0].file_type==="shader")return Ct}let v=P(t),h=v&&v(t),w=t[0].is_directory&&t[7]&&t[0].children&&Ke(t);return{c(){e=d("div"),l=d("div"),k.c(),n=E(),i=d("span"),s=R(a),c=E(),h&&h.c(),r=E(),w&&w.c(),u(i,"class","node-name svelte-1ohwvxa"),B(i,"toml-file",t[0].file_type==="config"),u(l,"class","tree-node-content svelte-1ohwvxa"),u(l,"role","button"),u(l,"tabindex","0"),B(l,"selected",t[6]),B(l,"directory",t[0].is_directory),B(l,"file",!t[0].is_directory),u(e,"class","tree-node svelte-1ohwvxa"),Ge(e,"margin-left",t[5]+"rem")},m(b,j){I(b,e,j),o(e,l),k.m(l,null),o(l,n),o(l,i),o(i,s),o(l,c),h&&h.m(l,null),o(e,r),w&&w.m(e,null),f=!0,g||(_=[Y(l,"click",t[8]),Y(l,"keydown",t[11])],g=!0)},p(b,[j]){p===(p=y(b))&&k?k.p(b,j):(k.d(1),k=p(b),k&&(k.c(),k.m(l,n))),(!f||j&1)&&a!==(a=b[0].name+"")&&T(s,a),(!f||j&1)&&B(i,"toml-file",b[0].file_type==="config"),v!==(v=P(b))&&(h&&h.d(1),h=v&&v(b),h&&(h.c(),h.m(l,null))),(!f||j&64)&&B(l,"selected",b[6]),(!f||j&1)&&B(l,"directory",b[0].is_directory),(!f||j&1)&&B(l,"file",!b[0].is_directory),b[0].is_directory&&b[7]&&b[0].children?w?(w.p(b,j),j&129&&M(w,1)):(w=Ke(b),w.c(),M(w,1),w.m(e,null)):w&&(_e(),G(w,1,1,()=>{w=null}),we()),(!f||j&32)&&Ge(e,"margin-left",b[5]+"rem")},i(b){f||(M(w),f=!0)},o(b){G(w),f=!1},d(b){b&&q(e),k.d(),h&&h.d(),w&&w.d(),g=!1,ee(_)}}}function zt(t,e,l){let n,i,a,{node:s}=e,{level:c=0}=e,{expandedDirs:r}=e,{selectedPath:f}=e,{getFileIcon:g}=e;const _=_t();function y(){s.is_directory?_("toggle",{dirPath:s.path}):_("select",{detail:[s.path,s.name,s.file_type]})}function p(v){_("toggle",v.detail)}function k(v){_("select",v.detail)}const P=v=>v.key==="Enter"&&y();return t.$$set=v=>{"node"in v&&l(0,s=v.node),"level"in v&&l(1,c=v.level),"expandedDirs"in v&&l(2,r=v.expandedDirs),"selectedPath"in v&&l(3,f=v.selectedPath),"getFileIcon"in v&&l(4,g=v.getFileIcon)},t.$$.update=()=>{t.$$.dirty&5&&l(7,n=r.has(s.path)),t.$$.dirty&9&&l(6,i=f===s.path),t.$$.dirty&2&&l(5,a=c*1.5)},[s,c,r,f,g,a,i,n,y,p,k,P]}class ct extends be{constructor(e){super(),me(this,e,zt,Rt,ue,{node:0,level:1,expandedDirs:2,selectedPath:3,getFileIcon:4})}}function Je(t,e,l){const n=t.slice();return n[15]=e[l],n}function Lt(t){let e;return{c(){e=d("div"),e.textContent="No files found in the current directory.",u(e,"class","empty-tree svelte-nfa6qb")},m(l,n){I(l,e,n)},p:O,i:O,o:O,d(l){l&&q(e)}}}function Tt(t){var _,y,p,k,P;let e,l,n=(((y=(_=t[2])==null?void 0:_.root)==null?void 0:y.total_directories)||0)+"",i,a,s=(((k=(p=t[2])==null?void 0:p.root)==null?void 0:k.total_files)||0)+"",c,r,f,g=((P=t[2].root.root)==null?void 0:P.children)&&Qe(t);return{c(){g&&g.c(),e=E(),l=d("div"),i=R(n),a=R(" directories, "),c=R(s),r=R(" files"),u(l,"class","file-tree-stats svelte-nfa6qb")},m(v,h){g&&g.m(v,h),I(v,e,h),I(v,l,h),o(l,i),o(l,a),o(l,c),o(l,r),f=!0},p(v,h){var w,b,j,F,S;(w=v[2].root.root)!=null&&w.children?g?(g.p(v,h),h&4&&M(g,1)):(g=Qe(v),g.c(),M(g,1),g.m(e.parentNode,e)):g&&(_e(),G(g,1,1,()=>{g=null}),we()),(!f||h&4)&&n!==(n=(((j=(b=v[2])==null?void 0:b.root)==null?void 0:j.total_directories)||0)+"")&&T(i,n),(!f||h&4)&&s!==(s=(((S=(F=v[2])==null?void 0:F.root)==null?void 0:S.total_files)||0)+"")&&T(c,s)},i(v){f||(M(g),f=!0)},o(v){G(g),f=!1},d(v){v&&(q(e),q(l)),g&&g.d(v)}}}function qt(t){let e,l,n,i,a,s,c;return{c(){e=d("div"),l=R("Error loading files: "),n=R(t[1]),i=E(),a=d("button"),a.textContent="Retry",u(a,"class","svelte-nfa6qb"),u(e,"class","error svelte-nfa6qb")},m(r,f){I(r,e,f),o(e,l),o(e,n),o(e,i),o(e,a),s||(c=Y(a,"click",t[11]),s=!0)},p(r,f){f&2&&T(n,r[1])},i:O,o:O,d(r){r&&q(e),s=!1,c()}}}function It(t){let e;return{c(){e=d("div"),e.textContent="Loading files...",u(e,"class","loading svelte-nfa6qb")},m(l,n){I(l,e,n)},p:O,i:O,o:O,d(l){l&&q(e)}}}function Qe(t){let e,l,n=fe(t[2].root.root.children),i=[];for(let s=0;s<n.length;s+=1)i[s]=Xe(Je(t,n,s));const a=s=>G(i[s],1,1,()=>{i[s]=null});return{c(){for(let s=0;s<i.length;s+=1)i[s].c();e=st()},m(s,c){for(let r=0;r<i.length;r+=1)i[r]&&i[r].m(s,c);I(s,e,c),l=!0},p(s,c){if(c&812){n=fe(s[2].root.root.children);let r;for(r=0;r<n.length;r+=1){const f=Je(s,n,r);i[r]?(i[r].p(f,c),M(i[r],1)):(i[r]=Xe(f),i[r].c(),M(i[r],1),i[r].m(e.parentNode,e))}for(_e(),r=n.length;r<i.length;r+=1)a(r);we()}},i(s){if(!l){for(let c=0;c<n.length;c+=1)M(i[c]);l=!0}},o(s){i=i.filter(Boolean);for(let c=0;c<i.length;c+=1)G(i[c]);l=!1},d(s){s&&q(e),Ce(i,s)}}}function Xe(t){var n;let e,l;return e=new ct({props:{node:t[15],level:0,expandedDirs:t[3],selectedPath:(n=t[5])==null?void 0:n.path,getFileIcon:Ot}}),e.$on("select",t[12]),e.$on("toggle",t[13]),{c(){he(e.$$.fragment)},m(i,a){ae(e,i,a),l=!0},p(i,a){var c;const s={};a&4&&(s.node=i[15]),a&8&&(s.expandedDirs=i[3]),a&32&&(s.selectedPath=(c=i[5])==null?void 0:c.path),e.$set(s)},i(i){l||(M(e.$$.fragment,i),l=!0)},o(i){G(e.$$.fragment,i),l=!1},d(i){ce(e,i)}}}function Nt(t){let e,l,n,i,a,s,c,r,f,g,_,y,p,k,P,v,h,w,b,j,F,S,m,L;const A=[It,qt,Tt,Lt],U=[];function H(C,z){var N;return C[0]?0:C[1]?1:(N=C[2])!=null&&N.root?2:3}return j=H(t),F=U[j]=A[j](t),{c(){e=d("div"),l=d("div"),n=d("div"),i=d("h3"),i.textContent="Project Files",a=E(),s=d("div"),c=d("button"),r=R("üìÅ Browse"),f=E(),g=d("button"),_=R("üîÑ Refresh"),y=E(),p=d("div"),k=d("span"),k.textContent="Path:",P=E(),v=d("span"),h=R(t[4]),w=E(),b=d("div"),F.c(),u(i,"class","svelte-nfa6qb"),c.disabled=t[0],u(c,"class","select-dir-btn svelte-nfa6qb"),u(c,"type","button"),g.disabled=t[0],u(g,"class","svelte-nfa6qb"),u(s,"class","header-controls svelte-nfa6qb"),u(n,"class","header-top svelte-nfa6qb"),u(k,"class","path-label svelte-nfa6qb"),u(v,"class","path-value svelte-nfa6qb"),u(v,"title",t[4]),u(p,"class","current-path svelte-nfa6qb"),u(l,"class","file-tree-header svelte-nfa6qb"),u(b,"class","file-tree-content svelte-nfa6qb"),u(e,"class","file-tree svelte-nfa6qb")},m(C,z){I(C,e,z),o(e,l),o(l,n),o(n,i),o(n,a),o(n,s),o(s,c),o(c,r),o(s,f),o(s,g),o(g,_),o(l,y),o(l,p),o(p,k),o(p,P),o(p,v),o(v,h),o(e,w),o(e,b),U[j].m(b,null),S=!0,m||(L=[Y(c,"click",t[7]),Y(g,"click",t[10])],m=!0)},p(C,[z]){(!S||z&1)&&(c.disabled=C[0]),(!S||z&1)&&(g.disabled=C[0]),(!S||z&16)&&T(h,C[4]),(!S||z&16)&&u(v,"title",C[4]);let N=j;j=H(C),j===N?U[j].p(C,z):(_e(),G(U[N],1,1,()=>{U[N]=null}),we(),F=U[j],F?F.p(C,z):(F=U[j]=A[j](C),F.c()),M(F,1),F.m(b,null))},i(C){S||(M(F),S=!0)},o(C){G(F),S=!1},d(C){C&&q(e),U[j].d(),m=!1,ee(L)}}}function Ot(t,e){if(e)return"üìÅ";switch(t){case"config":return"‚öôÔ∏è";case"shader":return"üé®";case"rust":return"ü¶Ä";case"javascript":return"üìú";case"typescript":return"üìò";case"json":return"üìÑ";case"markdown":return"üìù";case"text":return"üìÑ";default:return"üìÑ"}}function At(t,e,l){let n=!1,i=null,a=null,s=new Set,c=".",r=null;x.subscribe(h=>{l(2,a=h),console.log("File store updated:",h)}),rt(async()=>{await f(".")});async function f(h){l(0,n=!0),l(1,i=null),se.setLoading(!0);try{const w=await le("get_directory_tree",{path:h});console.log("File tree result:",w),se.setFileTree(w),l(4,c=h),w&&w.root&&(s.add(w.root.path),l(3,s))}catch(w){l(1,i=w),se.setError(w),console.error("Failed to load file tree:",w)}finally{l(0,n=!1),se.setLoading(!1)}}async function g(){try{const h=await Pt({directory:!0,multiple:!1,defaultPath:c,title:"Select Root Directory"});h&&typeof h=="string"&&(console.log("Selected directory:",h),l(5,r=null),se.clearSelection(),await f(h),l(3,s=new Set))}catch(h){l(1,i=h),console.error("Failed to select directory:",h)}}async function _(h,w,b){if(l(5,r={path:h,name:w,type:b}),console.log("File selected:",h),se.selectFile(h,w),b==="config")try{const j=await le("load_toml_config",{path:h});Q.setConfig(j),console.log("Loaded TOML config:",j)}catch(j){console.error("Failed to load TOML config:",j),Q.setError(`Failed to load ${w}: ${j}`)}}function y(h){s.has(h)?s.delete(h):s.add(h),l(3,s)}return[n,i,a,s,c,r,f,g,_,y,()=>f(c),()=>f("."),h=>_(...h.detail.detail),h=>y(h.detail.dirPath)]}class Mt extends be{constructor(e){super(),me(this,e,At,Nt,ue,{})}}function Ye(t,e,l){const n=t.slice();return n[20]=e[l],n[22]=l,n}function Ze(t){var c;let e,l,n,i,a=(((c=t[6])==null?void 0:c.selectedFile)||"Unknown")+"",s;return{c(){e=d("div"),l=d("span"),l.textContent="RUNNING",n=E(),i=d("span"),s=R(a),u(l,"class","status-badge running svelte-16ywji2"),u(i,"class","config-name svelte-16ywji2"),u(e,"class","preview-status svelte-16ywji2")},m(r,f){I(r,e,f),o(e,l),o(e,n),o(e,i),o(i,s)},p(r,f){var g;f&64&&a!==(a=(((g=r[6])==null?void 0:g.selectedFile)||"Unknown")+"")&&T(s,a)},d(r){r&&q(e)}}}function xe(t){let e,l,n,i,a,s=t[1].fps.toFixed(1)+"",c,r,f,g,_,y,p=t[1].renderTime.toFixed(1)+"",k,P,v,h,w,b,j,F=t[1].handle.id+"",S;return{c(){e=d("div"),l=d("div"),n=d("span"),n.textContent="FPS:",i=E(),a=d("span"),c=R(s),r=E(),f=d("div"),g=d("span"),g.textContent="Render Time:",_=E(),y=d("span"),k=R(p),P=R("ms"),v=E(),h=d("div"),w=d("span"),w.textContent="ID:",b=E(),j=d("span"),S=R(F),u(n,"class","stat-label svelte-16ywji2"),u(a,"class","stat-value svelte-16ywji2"),u(l,"class","stat-item svelte-16ywji2"),u(g,"class","stat-label svelte-16ywji2"),u(y,"class","stat-value svelte-16ywji2"),u(f,"class","stat-item svelte-16ywji2"),u(w,"class","stat-label svelte-16ywji2"),u(j,"class","stat-value svelte-16ywji2"),u(h,"class","stat-item svelte-16ywji2"),u(e,"class","preview-stats svelte-16ywji2")},m(m,L){I(m,e,L),o(e,l),o(l,n),o(l,i),o(l,a),o(a,c),o(e,r),o(e,f),o(f,g),o(f,_),o(f,y),o(y,k),o(y,P),o(e,v),o(e,h),o(h,w),o(h,b),o(h,j),o(j,S)},p(m,L){L&2&&s!==(s=m[1].fps.toFixed(1)+"")&&T(c,s),L&2&&p!==(p=m[1].renderTime.toFixed(1)+"")&&T(k,p),L&2&&F!==(F=m[1].handle.id+"")&&T(S,F)},d(m){m&&q(e)}}}function Ut(t){let e;return{c(){e=d("div"),e.innerHTML='<div class="empty-content svelte-16ywji2"><h4 class="svelte-16ywji2">üìÅ No Configuration Loaded</h4> <p class="svelte-16ywji2">Select a TOML configuration file from the file tree to start previewing shaders.</p> <div class="instructions svelte-16ywji2"><ol class="svelte-16ywji2"><li class="svelte-16ywji2">Browse the file tree on the left</li> <li class="svelte-16ywji2">Click on a <strong>.toml</strong> configuration file</li> <li class="svelte-16ywji2">Click &quot;Start Preview&quot; to begin rendering</li></ol></div></div>',u(e,"class","preview-empty svelte-16ywji2")},m(l,n){I(l,e,n)},p:O,d(l){l&&q(e)}}}function Dt(t){var de;let e,l,n,i,a,s,c,r,f,g,_=((de=t[6])==null?void 0:de.selectedFile)+"",y,p,k,P,v,h=t[1].config.window.width+"",w,b,j=t[1].config.window.height+"",F,S,m,L,A,U=t[1].config.pipeline.length+"",H,C,z,N=t[0]?"Starting Preview...":"‚ñ∂ Start Preview",V,$,D;return{c(){e=d("div"),l=d("div"),n=d("h4"),n.textContent="‚úÖ Configuration Loaded",i=E(),a=d("p"),a.textContent="Ready to start preview with:",s=E(),c=d("div"),r=d("div"),f=d("strong"),f.textContent="File:",g=E(),y=R(_),p=E(),k=d("div"),P=d("strong"),P.textContent="Resolution:",v=E(),w=R(h),b=R("√ó"),F=R(j),S=E(),m=d("div"),L=d("strong"),L.textContent="Pipelines:",A=E(),H=R(U),C=E(),z=d("button"),V=R(N),u(n,"class","svelte-16ywji2"),u(r,"class","config-item svelte-16ywji2"),u(k,"class","config-item svelte-16ywji2"),u(m,"class","config-item svelte-16ywji2"),u(c,"class","config-summary svelte-16ywji2"),u(z,"class","large-start-btn svelte-16ywji2"),z.disabled=t[0],u(l,"class","ready-content svelte-16ywji2"),u(e,"class","preview-ready svelte-16ywji2")},m(K,J){I(K,e,J),o(e,l),o(l,n),o(l,i),o(l,a),o(l,s),o(l,c),o(c,r),o(r,f),o(r,g),o(r,y),o(c,p),o(c,k),o(k,P),o(k,v),o(k,w),o(k,b),o(k,F),o(c,S),o(c,m),o(m,L),o(m,A),o(m,H),o(l,C),o(l,z),o(z,V),$||(D=Y(z,"click",t[11]),$=!0)},p(K,J){var pe;J&64&&_!==(_=((pe=K[6])==null?void 0:pe.selectedFile)+"")&&T(y,_),J&2&&h!==(h=K[1].config.window.width+"")&&T(w,h),J&2&&j!==(j=K[1].config.window.height+"")&&T(F,j),J&2&&U!==(U=K[1].config.pipeline.length+"")&&T(H,U),J&1&&N!==(N=K[0]?"Starting Preview...":"‚ñ∂ Start Preview")&&T(V,N),J&1&&(z.disabled=K[0])},d(K){K&&q(e),$=!1,D()}}}function Bt(t){var de,K,J,pe,Re,ze,Le,Te;let e,l,n,i,a,s,c,r,f=(((de=t[6])==null?void 0:de.selectedFile)||"Unknown")+"",g,_,y,p,k,P=((J=(K=t[1].config)==null?void 0:K.window)==null?void 0:J.width)+"",v,h,w=((Re=(pe=t[1].config)==null?void 0:pe.window)==null?void 0:Re.height)+"",b,j,F,S,m,L=(((Le=(ze=t[1].config)==null?void 0:ze.pipeline)==null?void 0:Le.length)||0)+"",A,U,H,C,z,N,V,$,D=((Te=t[1].config)==null?void 0:Te.pipeline)&&et(t);return{c(){e=d("div"),l=d("div"),n=d("div"),i=d("h4"),i.textContent="üé® Shader Rendering Active",a=E(),s=d("p"),c=R("Configuration: "),r=d("strong"),g=R(f),_=E(),y=d("p"),p=R("Resolution: "),k=d("strong"),v=R(P),h=R("√ó"),b=R(w),j=E(),F=d("p"),S=R("Pipelines: "),m=d("strong"),A=R(L),U=E(),H=d("div"),D&&D.c(),C=E(),z=d("div"),N=d("canvas"),V=E(),$=d("div"),$.innerHTML='<span>Initializing WebGPU Renderer...</span> <span class="note svelte-16ywji2">Real-time shader preview</span>',u(i,"class","svelte-16ywji2"),u(s,"class","svelte-16ywji2"),u(y,"class","svelte-16ywji2"),u(F,"class","svelte-16ywji2"),u(H,"class","pipeline-info svelte-16ywji2"),u(N,"class","webgpu-canvas svelte-16ywji2"),u(N,"width",t[7]),u(N,"height",t[8]),u($,"class","canvas-overlay svelte-16ywji2"),B($,"hidden",t[3]),u(z,"class","canvas-container svelte-16ywji2"),u(n,"class","canvas-info svelte-16ywji2"),u(l,"class","preview-canvas-placeholder"),u(e,"class","preview-active svelte-16ywji2")},m(W,X){I(W,e,X),o(e,l),o(l,n),o(n,i),o(n,a),o(n,s),o(s,c),o(s,r),o(r,g),o(n,_),o(n,y),o(y,p),o(y,k),o(k,v),o(k,h),o(k,b),o(n,j),o(n,F),o(F,S),o(F,m),o(m,A),o(n,U),o(n,H),D&&D.m(H,null),o(n,C),o(n,z),o(z,N),t[14](N),o(z,V),o(z,$)},p(W,X){var qe,Ie,Ne,Oe,Ae,Me,Ue,De;X&64&&f!==(f=(((qe=W[6])==null?void 0:qe.selectedFile)||"Unknown")+"")&&T(g,f),X&2&&P!==(P=((Ne=(Ie=W[1].config)==null?void 0:Ie.window)==null?void 0:Ne.width)+"")&&T(v,P),X&2&&w!==(w=((Ae=(Oe=W[1].config)==null?void 0:Oe.window)==null?void 0:Ae.height)+"")&&T(b,w),X&2&&L!==(L=(((Ue=(Me=W[1].config)==null?void 0:Me.pipeline)==null?void 0:Ue.length)||0)+"")&&T(A,L),(De=W[1].config)!=null&&De.pipeline?D?D.p(W,X):(D=et(W),D.c(),D.m(H,null)):D&&(D.d(1),D=null),X&128&&u(N,"width",W[7]),X&256&&u(N,"height",W[8]),X&8&&B($,"hidden",W[3])},d(W){W&&q(e),D&&D.d(),t[14](null)}}}function Ht(t){var k,P;let e,l,n,i,a=(t[5]||((k=t[1])==null?void 0:k.error))+"",s,c,r,f,g,_,y,p=((P=t[1])==null?void 0:P.config)&&lt(t);return{c(){e=d("div"),l=d("div"),l.textContent="‚ùå Preview Error",n=E(),i=d("div"),s=R(a),c=E(),r=d("div"),f=d("button"),f.textContent="Dismiss",g=E(),p&&p.c(),u(l,"class","error-title svelte-16ywji2"),u(i,"class","error-message svelte-16ywji2"),u(f,"class","svelte-16ywji2"),u(r,"class","error-actions svelte-16ywji2"),u(e,"class","error svelte-16ywji2")},m(v,h){I(v,e,h),o(e,l),o(e,n),o(e,i),o(i,s),o(e,c),o(e,r),o(r,f),o(r,g),p&&p.m(r,null),_||(y=Y(f,"click",t[13]),_=!0)},p(v,h){var w,b;h&34&&a!==(a=(v[5]||((w=v[1])==null?void 0:w.error))+"")&&T(s,a),(b=v[1])!=null&&b.config?p?p.p(v,h):(p=lt(v),p.c(),p.m(r,null)):p&&(p.d(1),p=null)},d(v){v&&q(e),p&&p.d(),_=!1,y()}}}function et(t){let e,l,n,i=fe(t[1].config.pipeline),a=[];for(let s=0;s<i.length;s+=1)a[s]=tt(Ye(t,i,s));return{c(){e=d("h5"),e.textContent="Active Pipelines:",l=E(),n=d("ul");for(let s=0;s<a.length;s+=1)a[s].c();u(e,"class","svelte-16ywji2"),u(n,"class","svelte-16ywji2")},m(s,c){I(s,e,c),I(s,l,c),I(s,n,c);for(let r=0;r<a.length;r+=1)a[r]&&a[r].m(n,null)},p(s,c){if(c&2){i=fe(s[1].config.pipeline);let r;for(r=0;r<i.length;r+=1){const f=Ye(s,i,r);a[r]?a[r].p(f,c):(a[r]=tt(f),a[r].c(),a[r].m(n,null))}for(;r<a.length;r+=1)a[r].d(1);a.length=i.length}},d(s){s&&(q(e),q(l),q(n)),Ce(a,s)}}}function tt(t){let e,l,n=(t[20].label||`Pipeline ${t[22]+1}`)+"",i,a,s,c,r=t[20].shader_type+"",f,g,_=t[20].file+"",y,p,k;return{c(){e=d("li"),l=d("span"),i=R(n),a=E(),s=d("span"),c=R("("),f=R(r),g=R(" - "),y=R(_),p=R(")"),k=E(),u(l,"class","pipeline-name svelte-16ywji2"),u(s,"class","pipeline-details svelte-16ywji2"),u(e,"class","svelte-16ywji2")},m(P,v){I(P,e,v),o(e,l),o(l,i),o(e,a),o(e,s),o(s,c),o(s,f),o(s,g),o(s,y),o(s,p),o(e,k)},p(P,v){v&2&&n!==(n=(P[20].label||`Pipeline ${P[22]+1}`)+"")&&T(i,n),v&2&&r!==(r=P[20].shader_type+"")&&T(f,r),v&2&&_!==(_=P[20].file+"")&&T(y,_)},d(P){P&&q(e)}}}function lt(t){let e,l,n;return{c(){e=d("button"),e.textContent="Retry",u(e,"class","retry-btn svelte-16ywji2")},m(i,a){I(i,e,a),l||(n=Y(e,"click",t[11]),l=!0)},p:O,d(i){i&&q(e),l=!1,n()}}}function Gt(t){var U,H;let e,l,n,i,a,s,c,r,f=t[0]?"Starting...":"Start Preview",g,_,y,p,k,P,v,h,w,b,j,F=((U=t[1])==null?void 0:U.handle)&&Ze(t),S=((H=t[1])==null?void 0:H.handle)&&xe(t);function m(C,z){var N,V,$;return C[5]||(N=C[1])!=null&&N.error?Ht:(V=C[1])!=null&&V.isRunning?Bt:($=C[1])!=null&&$.config?Dt:Ut}let L=m(t),A=L(t);return{c(){e=d("div"),l=d("div"),n=d("div"),i=d("h3"),i.textContent="Shader Preview",a=E(),F&&F.c(),s=E(),c=d("div"),r=d("button"),g=R(f),y=E(),p=d("button"),k=R("Stop"),v=E(),S&&S.c(),h=E(),w=d("div"),A.c(),u(i,"class","svelte-16ywji2"),u(n,"class","preview-title svelte-16ywji2"),r.disabled=_=!t[10]||t[0],u(r,"class","start-btn svelte-16ywji2"),B(r,"disabled",!t[10]||t[0]),p.disabled=P=!t[9],u(p,"class","stop-btn svelte-16ywji2"),B(p,"disabled",!t[9]),u(c,"class","preview-controls svelte-16ywji2"),u(l,"class","preview-header svelte-16ywji2"),u(w,"class","preview-content svelte-16ywji2"),u(e,"class","preview-window svelte-16ywji2")},m(C,z){I(C,e,z),o(e,l),o(l,n),o(n,i),o(n,a),F&&F.m(n,null),o(l,s),o(l,c),o(c,r),o(r,g),o(c,y),o(c,p),o(p,k),o(e,v),S&&S.m(e,null),o(e,h),o(e,w),A.m(w,null),t[15](w),b||(j=[Y(r,"click",t[11]),Y(p,"click",t[12])],b=!0)},p(C,[z]){var N,V;(N=C[1])!=null&&N.handle?F?F.p(C,z):(F=Ze(C),F.c(),F.m(n,null)):F&&(F.d(1),F=null),z&1&&f!==(f=C[0]?"Starting...":"Start Preview")&&T(g,f),z&1025&&_!==(_=!C[10]||C[0])&&(r.disabled=_),z&1025&&B(r,"disabled",!C[10]||C[0]),z&512&&P!==(P=!C[9])&&(p.disabled=P),z&512&&B(p,"disabled",!C[9]),(V=C[1])!=null&&V.handle?S?S.p(C,z):(S=xe(C),S.c(),S.m(e,h)):S&&(S.d(1),S=null),L===(L=m(C))&&A?A.p(C,z):(A.d(1),A=L(C),A&&(A.c(),A.m(w,null)))},i:O,o:O,d(C){C&&q(e),F&&F.d(),S&&S.d(),A.d(),t[15](null),b=!1,ee(j)}}}function Wt(t,e,l){let n,i,a,s=!1,c=null,r=null,f=null,g=null,_,y=800,p=600,k=!1,P=!1;Z.subscribe(m=>{l(1,r=m)}),x.subscribe(m=>{l(6,f=m)}),rt(()=>{v(),g=setInterval(v,2e3)}),gt(()=>{g&&clearInterval(g)});async function v(){try{const m=await le("get_preview_status");m?(Q.setHandle(m),Q.updateStats(m.fps,m.render_time_ms)):Q.stop()}catch{}}async function h(){if(!r.config){l(5,c="No configuration loaded. Please select a TOML file from the file tree.");return}l(0,s=!0),l(5,c=null),Q.setError(null);try{const m=await le("start_preview",{config:r.config,configPath:(f==null?void 0:f.selectedPath)||null});Q.setHandle(m),console.log("Preview started:",m)}catch(m){l(5,c=m),Q.setError(m),console.error("Failed to start preview:",m)}finally{l(0,s=!1)}}async function w(){try{await le("stop_preview"),Q.stop()}catch(m){l(5,c=m),Q.setError(m),console.error("Failed to stop preview:",m)}}async function b(){if(_)try{if(!navigator.gpu){console.warn("WebGPU not supported"),P=!1;return}P=!0;const m=await le("get_canvas_dimensions");m&&(l(7,y=m[0]),l(8,p=m[1]),l(2,_.width=y,_),l(2,_.height=p,_));const L=_.getContext("2d");L&&(L.fillStyle="#1a1a1a",L.fillRect(0,0,y,p),L.fillStyle="#007acc",L.font="16px Arial",L.textAlign="center",L.fillText("WebGPU Renderer Active",y/2,p/2),L.fillText(`${y}√ó${p}`,y/2,p/2+25)),l(3,k=!0)}catch(m){console.error("Failed to initialize canvas:",m),P=!1}}const j=()=>{l(5,c=null),Q.setError(null)};function F(m){ke[m?"unshift":"push"](()=>{_=m,l(2,_)})}function S(m){ke[m?"unshift":"push"](()=>{a=m,l(4,a)})}return t.$$.update=()=>{t.$$.dirty&14&&r!=null&&r.isRunning&&_&&!k&&b(),t.$$.dirty&3&&l(10,n=(r==null?void 0:r.config)&&!(r!=null&&r.isRunning)&&!s),t.$$.dirty&2&&l(9,i=r==null?void 0:r.isRunning)},[s,r,_,k,a,c,f,y,p,i,n,h,w,j,F,S]}class $t extends be{constructor(e){super(),me(this,e,Wt,Gt,ue,{})}}function Kt(t){let e,l,n,i,a,s=(t[3]||"No file selected")+"",c,r,f,g,_,y,p,k,P,v,h,w,b,j,F;return{c(){var S;e=d("div"),l=d("div"),n=d("span"),n.textContent="Selected:",i=E(),a=d("span"),c=R(s),r=E(),f=d("div"),g=d("span"),g.textContent="Files:",_=E(),y=d("span"),p=R(t[1]),k=E(),P=d("div"),v=d("span"),v.textContent="Preview:",h=E(),w=d("span"),b=R(t[2]),j=E(),F=d("div"),F.innerHTML='<span class="status-label svelte-2i5hxz">Phase:</span> <span class="status-value svelte-2i5hxz">3 - GUI Foundation</span>',u(n,"class","status-label svelte-2i5hxz"),u(a,"class","status-value svelte-2i5hxz"),u(l,"class","status-section svelte-2i5hxz"),u(g,"class","status-label svelte-2i5hxz"),u(y,"class","status-value svelte-2i5hxz"),u(f,"class","status-section svelte-2i5hxz"),u(v,"class","status-label svelte-2i5hxz"),u(w,"class","status-value preview-status svelte-2i5hxz"),B(w,"running",(S=t[0])==null?void 0:S.isRunning),u(P,"class","status-section svelte-2i5hxz"),u(F,"class","status-section svelte-2i5hxz"),u(e,"class","status-bar svelte-2i5hxz")},m(S,m){I(S,e,m),o(e,l),o(l,n),o(l,i),o(l,a),o(a,c),o(e,r),o(e,f),o(f,g),o(f,_),o(f,y),o(y,p),o(e,k),o(e,P),o(P,v),o(P,h),o(P,w),o(w,b),o(e,j),o(e,F)},p(S,[m]){var L;m&8&&s!==(s=(S[3]||"No file selected")+"")&&T(c,s),m&2&&T(p,S[1]),m&4&&T(b,S[2]),m&1&&B(w,"running",(L=S[0])==null?void 0:L.isRunning)},i:O,o:O,d(S){S&&q(e)}}}function Vt(t,e,l){let n,i,a,s,c;return He(t,x,r=>l(4,s=r)),He(t,Z,r=>l(0,c=r)),t.$$.update=()=>{var r;t.$$.dirty&16&&l(3,n=(s==null?void 0:s.selectedFile)||null),t.$$.dirty&1&&l(2,i=c!=null&&c.isRunning?"Running":"Stopped"),t.$$.dirty&16&&l(1,a=((r=s==null?void 0:s.root)==null?void 0:r.total_files)||0)},[c,a,i,n,s]}class Jt extends be{constructor(e){super(),me(this,e,Vt,Kt,ue,{})}}function Qt(t){let e,l,n,i,a,s,c,r,f,g,_,y;return s=new Mt({}),f=new $t({}),_=new Jt({}),{c(){e=d("main"),l=d("div"),l.innerHTML='<h1 class="svelte-19tyzk4">shekere</h1> <div class="menu"></div>',n=E(),i=d("div"),a=d("div"),he(s.$$.fragment),c=E(),r=d("div"),he(f.$$.fragment),g=E(),he(_.$$.fragment),u(l,"class","app-header svelte-19tyzk4"),u(a,"class","sidebar svelte-19tyzk4"),u(r,"class","main-content svelte-19tyzk4"),u(i,"class","app-body svelte-19tyzk4"),u(e,"class","app svelte-19tyzk4")},m(p,k){I(p,e,k),o(e,l),o(e,n),o(e,i),o(i,a),ae(s,a,null),o(i,c),o(i,r),ae(f,r,null),o(e,g),ae(_,e,null),y=!0},p:O,i(p){y||(M(s.$$.fragment,p),M(f.$$.fragment,p),M(_.$$.fragment,p),y=!0)},o(p){G(s.$$.fragment,p),G(f.$$.fragment,p),G(_.$$.fragment,p),y=!1},d(p){p&&q(e),ce(s),ce(f),ce(_)}}}class Xt extends be{constructor(e){super(),me(this,e,null,Qt,ue,{})}}new Xt({target:document.getElementById("app")});
